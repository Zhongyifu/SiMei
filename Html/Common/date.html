<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>日历</title>
	<link rel="stylesheet" type="text/css" href="../../Css/bootstrap.min.css">
	<link rel="stylesheet" href="../../Css/common/date.css" />
	<link rel="stylesheet" href="../../Css/common/common.css">
	<!-- 图标库 -->
	<link rel="stylesheet" href="../../Img/font-awesome/css/font-awesome.min.css">
</head>

<body>
	<div class="top-page">
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
					<img src="../../Img/icon/common/logo.png" alt="">
				</div>

				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="navbar-nav-itme">
							<a href="#">首页</a>
						</li>

						<li class="dropdown navbar-nav-itme">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">线下课程</a>
							<ul class="dropdown-menu">
								<li>
									<a href="#">2018课程的设置</a>
								</li>
								<li>
									<a href="#">2018课程设置</a>
								</li>
								<li>
									<a href="#">18课程设置</a>
								</li>
								<li>
									<a href="#">课程设置</a>
								</li>
								<li>
									<a href="#">程设置</a>
								</li>
								<li>
									<a href="#">设置</a>
								</li>
								<li>
									<a href="#">置</a>
								</li>
							</ul>
						</li>
						<li class="navbar-nav-itme">
							<a href="#">线上课程</a>
						</li>
						<li class="navbar-nav-itme">
							<a href="#">资讯中心</a>
						</li>
						<li class="navbar-nav-itme">
							<a href="#">素材中心</a>
						</li>
					</ul>

					<div class="topnav-right">
						<span>登陆</span>
						<span>/</span>
						<span>免费注册</span>
						<img src="../../Img/icon/common/touxiang.png" alt="">
					</div>
				</div>
			</div>
		</nav>
	</div>



	<div class="datecontent">
		<div class="datebody">
			<div class="pageaddress">
				<span>您的位置：</span>
				<span>首页</span>
				<span>/</span>
				<span>开课日历</span>
			</div>
			<div class="datetitle">
				<span>2018 美博思远开课日历</span>
			</div>

			<div class="dateabs">
				<span>开课日历：</span>
				<span class="dateabs-content">开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：开课日历：</span>
			</div>

			<div class="datemonthlist">
				<div class="dateMonth">
					<ul id="onMonth">
						<li>1月</li>
						<li>2月</li>
						<li>3月</li>
						<li>4月</li>
						<li>5月</li>
						<li>6月</li>
						<li>7月</li>
						<li>8月</li>
						<li>9月</li>
						<li>10月</li>
						<li>11月</li>
						<li>12月</li>
					</ul>
				</div>
			</div>

			<div class="bgdiv-black">
				<div class="bgdiv-white">
					<div class="cont">
						<div class="dateDay">
							<div class="dateDay-c">星期一</div>
							<div class="dateDay-c">星期二</div>
							<div class="dateDay-c">星期三</div>
							<div class="dateDay-c">星期四</div>
							<div class="dateDay-c">星期五</div>
							<div class="dateDay-c">星期六</div>
							<div class="dateDay-c">星期日</div>
						</div>
						<div id="dateDate" class="dateDate">
							<div class="onshow">
								<div class="onshowTitle">美博斯学院考研12C班</div>
								<div class="onshowCont">
									<span id="detailsWork"></span>
									<a href="https://www.baidu.com">【查看详情】</a>
								</div>
							</div>
						</div>
					</div>
					<div id="acb"></div>
					<div id="acb1"></div>
					<div id="acb2"></div>
				</div>
			</div>
		</div>
	</div>
	<div id="footpage" class="foot-page">
		<div class="fdiv">
			<div class="flink">

				<div class="fcontent">

					<div class="rword">
						<div class="hader-school ">
							<div class="school-img relative">
								<span class="span-1">关于我们</span>
								<span class="span-2">联系我们</span>
								<img src="../../Img/icon/common/joinus.png" class="sealine img-1" alt="">
								<img src="../../Img/icon/common/joinus.png" class="sealine img-2" alt="">
							</div>
							<span class="rword-r">友情链接：</span>
						</div>
						<ul class="rword-ul school">
							<li class="rword-li ">
								<a href="#">清华大学美术学院</a>
							</li>
							<li class="rword-li">
								<a href="#">中央美术学院</a>
							</li>
							<li class="rword-li">
								<a href="#">北京服装学院</a>
							</li>
							<li class="rword-li">
								<a href="#">北京理工大学</a>
							</li>
							<li class="rword-li">
								<a href="#">北京林业大学</a>
							</li>
							<li class="rword-li">
								<a href="#">北京电影学院</a>
							</li>
						</ul>
					</div>

				</div>

				<div class="fcontent ">

					<div class="rword">
						<div class="hader-school ">
							<div class="school-img relative">
								<span class="span-1">加入我们</span>
								<span class="span-2">在线帮助</span>
								<img src="../../Img/icon/common/joinus.png" class="sealine img-1" alt="">
								<img src="../../Img/icon/common/joinus.png" class="sealine img-2" alt="">
							</div>
							<span class="rword-r">友情链接：</span>
						</div>
						<ul class="rword-ul">
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/zhihu.gif" data-toggle="tooltip" data-placement="bottom" title="知乎">
								</a>
							</li>
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/xinlang.gif" data-toggle="tooltip" data-placement="bottom" title="新浪微博">
								</a>
							</li>
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/huaban.gif" data-toggle="tooltip" data-placement="bottom" title="花瓣网">
								</a>
							</li>
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/tb001.gif" data-toggle="tooltip" data-placement="bottom" title="不知道">
								</a>
							</li>
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/xiangji.gif" data-toggle="tooltip" data-placement="bottom" title="不知道">
								</a>
							</li>
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/weibo.gif" data-toggle="tooltip" data-placement="bottom" title="腾讯微博">
								</a>
							</li>
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/txship.gif" data-toggle="tooltip" data-placement="bottom" title="腾讯视频">
								</a>
							</li>
							<li class="rword-li">
								<a href="#">
									<img src="../../Img/icon/common/txketang.gif" data-toggle="tooltip" data-placement="bottom" title="腾讯课堂">
								</a>
							</li>
							<li class="rword-li last-li">
								<span class="rword-r">随时随地，都有我们陪伴您的身影！</span>
							</li>
						</ul>

					</div>

				</div>

			</div>

			<div class="fnote">
				<span>Copyright &copy; 2011-2016 Mapla.All Rights Reserved.</span>
				<span>关于我们</span>
				<br>
				<span>北京美博惠人国际教育科技有限公司 版权所有 京ICP备11044802号-1</span>
			</div>

		</div>
	</div>

	<!-- 右侧菜单 -->
	<div class="rightnav">
		<div class="askonline">
			<div class="askimg">
				<img src="../../Img/icon/common/askonline.png" alt="">
			</div>
			<div class="askman">
				<button class=" btn btn-info">冯老师</button>
				<button class=" btn btn-info">陶老师</button>
				<button class=" btn btn-info">王老师</button>
			</div>
		</div>
	</div>



</body>
<script src="../../Js/jquery-3.3.1.min.js"></script>
<script src="../../Js/bootstrap.min.js"></script>
<!-- <script src="../../Js/common.js"></script> -->
<script>
	var onDate = function (ckMont) {
		var date = new Date;
		var year = date.getFullYear();
		var month = "";
		if (ckMont) {
			month = parseInt(ckMont)
		} else {
			month = date.getMonth() + 1;
		}
		document.getElementById('onMonth').getElementsByTagName('li')[month - 1].className = 'atMonth'
		var Day = date.getDay();
		var dateNum = new Date(year, month, 0);
		dateNum = dateNum.getDate(); //获取当月天数
		// console.log(month)
		var weekNum = new Date(year + month + '');
		var strTime = year + '-' + month + '-' + '01'; //字符串日期格式             
		var stydate = new Date(Date.parse(strTime.replace(/-/g, "/"))); //转换成Data() 
		weekNum = stydate.getDay(); //获取当前月份第一天周几 
		//			console.log('weekNum',year + 'month' + month  + 'weekNum'+ weekNum)
		// console.log(weekNum)
		if (weekNum == 0) {
			weekNum = 7
		}
		for (let i = 0; i < 35; i++) { //原来是1<42，
			var $div = '<div class="dateDay-c dateDayCbg"></div>';
			$('#dateDate').prepend($div);
		}
		for (let i = 1; i < dateNum + 1; i++) {
			var str = "#dateDate .dateDay-c:eq(" + [i + weekNum - 2] + ")";
			var hastip = true; //一个用于判定当前月份是否存在tip的变量
			if (i == 1 || i == 24 || i == 15 || i == 8 || i == 28) { //当确定当前日期存在tip时插入数据
				var stk = '';
				var stkJson = ['协议', '甲字', '环艺', '工业', '视传', '服装'];
				for (let i = 0; i < stkJson.length; i++) {
					stk = '<p class="Thck" data-index="' + (i + 1) + '">' + stkJson[i] + '</p>' + stk;
				}
				$(str).html('<div>' + (i) + '</div>' + stk + '')
			} else {
				$(str).html('<div>' + (i) + '</div>')
			}
			$(str).removeClass('dateDayCbg');
		}
		//根据每个p标签的内容来确定其具体的样式
		var thcklength = $(".cont .dateDate .dateDay-c ").children("p").length; //确定tip标签的个数
		for (let i = 1; i <= thcklength; i++) {
			var thcktext = $(".cont .dateDate .dateDay-c p[data-index='" + i + "']").html();
			switch (thcktext) {
				case "协议":
					$(".cont .dateDate .dateDay-c p[data-index='" + i + "']").addClass("type-one");
					break;
				case "甲字":
					$(".cont .dateDate .dateDay-c p[data-index='" + i + "']").addClass("type-two");
					break;
				case "环艺":
					$(".cont .dateDate .dateDay-c p[data-index='" + i + "']").addClass("type-three");
					break;
				case "工业":
					$(".cont .dateDate .dateDay-c p[data-index='" + i + "']").addClass("type-four");
					break;
				case "视传":
					$(".cont .dateDate .dateDay-c p[data-index='" + i + "']").addClass("type-five");
					break;
				case "服装":
					$(".cont .dateDate .dateDay-c p[data-index='" + i + "']").addClass("type-six");
					break;
				default:
					break;
			}
		}

		var LenT = $('.dateDayCbg').length
		var LiIop = 1;
		for (let i = weekNum - 1; i < LenT; i++) {
			var str = ".dateDayCbg:eq(" + [i] + ")";
			$(str).html('<div class="colorCB">' + (LiIop) + '</div>')
			LiIop++
		}
	}
	onDate();
	$('#onMonth li').click(function () {
		var monthNumber = this.innerText;
		document.getElementById('dateDate').innerHTML = '';
		for (let i = 0; i < 12; i++) {
			$('#onMonth li').removeClass('atMonth')
		}
		onDate(monthNumber);
	})
	$(".Thck").click(function (event) {
		// console.log('1')
		var that = this;
		event.stopPropagation();
		$('.onshow').show();
		var Yh = that.parentNode.parentNode.clientHeight;
		var Y1 = that.parentNode.parentNode.scrollTop;
		var Y2 = that.parentNode.parentNode.offsetTop + Yh;
		var X1 = that.parentNode.parentNode.offsetLeft;
		var X2 = that.parentNode.parentNode.offsetLeft + 1024;
		var X = event.pageX;
		var Y = event.pageY;
		$('.onshow').css({
			"left": X + 20,
			'top': Y + 20
		})
		if (X > X2 - 150) {
			// console.log('1')
			$('.onshow').css({
				"left": X - 170,
			})
			return
		} else if (Y > Y2 - 180) {
			// console.log('2')
			$('.onshow').css({
				"top": Y - 200,
			})
			return
		}
		//
		var str =
			'张三说王五和赵六是朋友张三说王五和赵六是朋友张三说王五和赵六是朋友是朋友张三说王五和赵六是朋友张三说王五和赵六是朋友张三说王五和赵六是朋友张三说王五和赵六是朋友是朋友张三说王五和赵六是朋友张三说王五和赵六是朋友张三说王五和赵六是朋友张三说王五和赵六是朋友是朋友张三说王五和赵六是朋友'
		if (str.length > 43) {
			str = str.substring(0, 43)
			$('#detailsWork').text(str + '....')
		} else {
			$('#detailsWork').text(str)
		}
	})
	$('body').click(function () {
		$('.onshow').hide();
	});

	//关于日历层的外壳高度的计算
	var sunhegiht = $(".cont .dateDate .dateDay-c").height();
	// console.log(sunhegiht);
	// var colorcbheight = $(".dateDayCbg").height();
	var colorcbheight = 0;
	$(".datecontent .bgdiv-black").height(1024 + "px");
	$(".datecontent .bgdiv-white").height(1024 + "px");
</script>

</html>